---
title: "StorageMgr"
---

{% include toc title="Содержание" %}

### Обязательно к прочтению

StorageMgr это многофункциональный плагин для PS Vita (TV), который позволяет использовать альтернативные накопители, такие как USB диск, SD2Vita или psvd.

SD2Vita это адаптер для microSD карты, который вставляется в слот для картриджа с игрой, а psvd это адаптер для microSD карты, который заменяет собой 3g модем на моделях PS Vita с поддержкой 3g.

При помощи плагина StorageMgr, USB диск или microSD карта могут быть смонтированы как `ux0:` аналогично карте памяти Sony. Это весьма полезно, поскольку microSD карты значительно дешевле карт памяти Sony (особенно на высокой емкости).

Мы воспользуемся FTP (File Transfer Protocol) для передачи файлов, поэтому Vita и ПК должны быть подключены к одной сети.

У вас уже должно быть установлено приложение VitaShell.
{: .notice--info}

### Что понадобится

* Отформатированный накопитель, совместимый с вашей системой
  + Чтобы выполнить форматирование, смотрите страницу [Форматирование накопителя (Windows)](storage-format-(windows)), [Форматирование накопителя (Linux)](storage-format-(linux)) или [Форматирование накопителя (Mac)](storage-format-(mac))
* FTP клиент, такой как [WinSCP](https://winscp.net/) или [CyberDuck](https://cyberduck.io/)
  + Вместо этого можно использовать функцию USB transfer в приложении VitaShell
* Свежая версия [StorageMgr](https://github.com/CelesteBlue-dev/PSVita-StorageMgr/releases)
  + Файл `storage_config.txt` должен быть отредактирован согласно вашей ситуации, как указано в [README](https://github.com/CelesteBlue-dev/PSVita-StorageMgr/blob/master/README.md#how-to-configure-storagemgr-)
  + `MCD=uma0` практически всегда остается неизменным
  + `INT=imc0` остается неизменным для PS Vita 2000 и PS TV, и удаляется для PS Vita 1000
  + `GCD=ux0` остается неизменным для SD2Vita, и меняется на `UMA=ux0` для USB диска и psvd
  + `UMA=grw0` удаляется, кроме случая когда у вас несколько накопителей (в этом случае устройство не подключенное как `ux0:` будет подключено как `grw0:`)

### Инструкция

#### Часть I - Установка плагинов

1. Запустите приложение VitaShell
1. Нажмите (Select) чтобы включить доступ по FTP на консоли
1. Запустите FTP клиент на компьютере
1. Введите IP адрес и порт, отображаемые на консоли
1. Используя FTP клиент, скопируйте все файлы из `ux0:tai/` в `ur0:tai/`
  + Перезаписывайте существующие файлы в папке `ur0:tai/`
1. Загрузите `storagemgr.skprx` в папку `ur0:tai/`
1. Загрузите `storage_config.txt` в папку `ur0:tai/`
1. Замените все пути `ux0:` в файле `ur0:tai/config.txt` на пути `ur0:`
1. Добавьте следующую строку в файл `ur0:tai/config.txt` сразу после строки `*KERNEL`:
  + `ur0:tai/storagemgr.skprx`
1. Удалите все файлы из папки `ux0:tai/`
  
#### Часть II - Восстановление данных

В этой части мы скопируем все данные со старой карты памяти Sony на новый накопитель.
{: .notice--info}

1. Сохраните все содержимое `ux0:` в папку на вашем компьютере
  + Это может занять некоторое время, если у вас много данных на карте памяти Sony
1. Вставьте новый накопитель в компьютер
1. Скопируйте содержимое папки с данными из `ux0:` на новый накопитель
  + Это может занять некоторое время, если у вас много данных на карте памяти Sony
1. Вставьте новый накопитель в PS Vita (TV)
1. Нажмите (Круг) на консоли чтобы выключить доступ по FTP
1. Закройте приложение VitaShell
1. Перезагрузите консоль
  + Если на вашей консоли нет Ensō, то вам нужно вручную запустить и выйти из h-encore, чтобы восстановить доступ к хоумбрю
  + Это необходимо для запуска новых плагинов, добавленных в `ur0:tai/config.txt`

___

{% capture notice-1 %}
Если вы хотите освободить место на карте памяти (например для хранения игр PSP), вы можете удалить содержимое `uma0:` (новая точка монтирования карты памяти) и / или `imc0:` (если у вас PS Vita 2000 или PS TV).

Если вы решили сделать это и используете h-encore на версии прошивки 3.67 или 3.68, то вы *не* должны удалять эти папки:

  + `uma0:app/PCSG90096`
  + `uma0:appmeta/PCSG90096`
  + `uma0:data/bootstrap.self`
  + `uma0:license/app/PCSG90096`
  + `uma0:user/00/savedata/PCSG90096`

Причина этого в том, что вы должны сохранить h-encore установленным на карту памяти, чтобы вы могли запустить HENkaku (и, следовательно, StorageMgr) после перезагрузки.
{% endcapture %}

<div class="notice--info">{{ notice-1 | markdownify }}</div>

Ваш новый накопитель теперь настроен и готов к использованию в точке монтирования, указанной в файле `storage_config.txt`.
{: .notice--success}