---
title: "StorageMgr"
---

{% include toc title="内容目录" %}

### 必读事项

StorageMgr is a multi-purpose kernel plugin for the PS Vita (TV) which allows for the use of alternative storage devices such as a USB drive, an SD2Vita, or a psvsd adapter.

The SD2Vita is a microSD to game card adapter which is inserted into the game-card slot in your device, while the psvsd is a microSD adapter which replaces the 3g modem on 3g PS Vita models.

By using the StorageMgr kernel plugin, the USB drive or microSD card you use will be mounted to `ux0:` just like a Sony memory card. 这非常有用，因为microSD卡比索尼内存卡便宜得多（特别是在高容量时）。

本教程将使用FTP传输文件，因此你的Vita和PC必须在同一网络。

你必须安装了 VitaShell 才能使用此软件。
{: .notice--info}

### 你需要准备点啥？

* A formatted storage device compatible with your system
  + To format your device, see [Storage Format (Windows)](storage-format-(windows)), [Storage Format (Linux)](storage-format-(linux)), or [Storage Format (Mac)](storage-format-(mac))
* 一个 FTP 连接软件，比如 [WinSCP](https://winscp.net/) 或 [CyberDuck](https://cyberduck.io/)
  + 或者，你也可以使用 VitaShell 的 USB 传输功能
* The latest release of [StorageMgr](https://github.com/CelesteBlue-dev/PSVita-StorageMgr/releases)
  + `storage_config.txt` should be edited to fit your situation as instructed in the [README](https://github.com/CelesteBlue-dev/PSVita-StorageMgr/blob/master/README.md#how-to-configure-storagemgr-)
  + `MCD=uma0` should be kept as-is if you plan to keep a Sony memory card in your device, and removed otherwise
  + `INT=imc0` should be kept as-is for PS Vita 2000 and PS TV users, and removed for PS Vita 1000 users
  + `GCD=ux0` should be kept as-is for SD2Vita users, and edited to `UMA=ux0` for USB drive and psvsd users
  + `UMA=grw0` should be removed unless you have multiple storage devices (in which case the device which is not assigned to `ux0:` should be assigned to `grw0:`)

### 操作步骤

#### Section I - Installing Plugins

1. 启动 VitaShell 应用
1. 按下 “Select” 键以启用设备上的 FTP 访问
1. 在电脑上打开 FTP 客户端
1. 输入设备上显示的 IP 地址与端口
1. Using your FTP client, copy all files from `ux0:tai/` to `ur0:tai/`
  + Overwrite any existing files in the `ur0:tai/` folder
  + If you do not have a `ux0:tai/` folder, skip this step
1. Transfer `storagemgr.skprx` to the `ur0:tai/` folder
1. Transfer `storage_config.txt` to  the `ur0:tai/` folder
1. For any paths in `ur0:tai/config.txt` which contain `ux0:tai/`, replace `ux0:tai/` with `ur0:tai/`
  + If you did not have a `ux0:tai/` folder, skip this step
1. Add the following line to `ur0:tai/config.txt` under the `*KERNEL` line:
  + `ur0:tai/storagemgr.skprx`
1. Delete the `ux0:tai/` folder
  + This is an important step as HENkaku will not load plugins installed in `ur0:tai` if it detects that `ux0:tai` exists

#### Section II - Restoring Data

此步将复制你旧的索尼内存卡中的数据到你的新存储设备中。
{: .notice--info}

1. Backup the contents of `ux0:` to a folder on your computer
  + This may take some time if you have a large amount of data on your Sony memory card
1. Insert your new storage device into your computer
1. Copy the contents of your `ux0:` folder to your new storage device
  + This may take some time if you have a large amount of data on your Sony memory card
  + Do not copy the `ux0:` folder itself to your new storage device
1. Insert your new storage device into your PS Vita (TV)
1. 在你的主机上按下 “○” 键以关闭 FTP 连接
1. 退出 VitaShell 应用
1. 重启你的设备
  + 如果你的设备没有安装 Ensō ，则你将需要手动启动并退出 h-encore 来开启 homebrew。
  + This is required to load the new kernel plugins added to `ur0:tai/config.txt`

___

{% capture notice-1 %}
如果你想要清理你内存卡中的内容（如想存 PSP 游戏之类的到卡里），你可 `uma0:`（新的内存卡挂载位置）以及/或者 `imc0:` （适用于 PS Vita 2000 或 PS TV）中的文件删除。

如果你决定这样做，那你*绝对不要*删除以下文件夹：

  + `uma0:data/bootstrap.self`
  + `uma0:app/PCSG90096`
  + `uma0:appmeta/PCSG90096`
  + `uma0:appmeta/VITASHELL`
  + `uma0:license/app/PCSG90096`
  + `uma0:license/app/VITASHELL`
  + `uma0:user/00/savedata/PCSG90096`
  + `uma0:user/00/savedata/VITASHELL`

这是因为 h-encore 得保证内存卡中的文件归位正常，这样你才能在重启之后启用 HENkaku (还有 StorageMgr)。
{% endcapture %}

<div class="notice--info">{{ notice-1 | markdownify }}</div>

Your new storage device is now configured and ready for use at the mount point specified in your `storage_config.txt`.
{: .notice--success}
